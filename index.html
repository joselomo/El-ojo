<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üëÅÔ∏è</title>

  <!-- PyScript -->
  <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
  <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>

  <!-- Google Fonts: Fenix -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fenix&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #000;
      --text: #fff;
      --muted: rgba(255,255,255,0.72);
      --hairline: rgba(255,255,255,0.14);
      --hairline2: rgba(255,255,255,0.08);
      --accent: rgba(255,255,255,0.92);
      --danger: #ff4d4d;
      --ok: #7CFFB2;
    }

    /* ===== LAYOUT ===== */
    body {
      margin: 0;
      min-height: 100vh;
      background: var(--bg);
      color: var(--text);
      font-family: "Fenix", serif;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 28px;
      letter-spacing: 0.2px;
    }

    /* ‚ÄúTarjeta‚Äù elegante sobre negro */
    .panel {
      width: 100%;
      max-width: 820px;
      padding: 34px 34px 28px;
      border: 1px solid var(--hairline);
      border-radius: 18px;
      background:
        radial-gradient(circle at 20% 0%, rgba(255,255,255,0.06), transparent 45%),
        radial-gradient(circle at 80% 100%, rgba(255,255,255,0.04), transparent 55%);
      box-shadow:
        0 18px 60px rgba(0,0,0,0.7),
        inset 0 0 0 1px var(--hairline2);
      position: relative;
    }

    /* Detalle sutil arriba */
    .panel::before {
      content: "";
      position: absolute;
      left: 18px;
      right: 18px;
      top: 18px;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--hairline), transparent);
      pointer-events: none;
    }

    /* ===== T√çTULO ===== */
    h1 {
      margin: 0 0 18px 0;
      text-align: center;
      font-weight: 400;
      font-size: 1.6rem;
      letter-spacing: 6px;
      text-transform: uppercase;
      color: var(--accent);
      opacity: 0.95;
    }

    /* ===== TEXTO ===== */
    #question {
      font-size: 1.15rem;
      line-height: 1.6;
      color: rgba(255,255,255,0.92);
      margin: 18px 0 10px;
    }

    /* ===== INPUT + BOT√ìN ===== */
    .row {
      display: flex;
      gap: 12px;
      margin-top: 14px;
      flex-wrap: wrap;
      align-items: center;
    }

    input {
      flex: 1;
      min-width: 220px;
      font-size: 1rem;
      padding: 12px 14px;
      font-family: "Fenix", serif;
      border-radius: 12px;
      border: 1px solid var(--hairline);
      background: rgba(255,255,255,0.03);
      color: var(--text);
      outline: none;
    }

    input::placeholder {
      color: rgba(255,255,255,0.45);
    }

    input:focus {
      border-color: rgba(255,255,255,0.35);
      box-shadow: 0 0 0 4px rgba(255,255,255,0.06);
    }

    button {
      font-family: "Fenix", serif;
      font-size: 1rem;
      padding: 12px 18px;
      cursor: pointer;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      letter-spacing: 1px;
      transition: transform 0.06s ease, background 0.15s ease, border-color 0.15s ease;
      user-select: none;
    }

    button:hover {
      background: rgba(255,255,255,0.10);
      border-color: rgba(255,255,255,0.35);
    }

    button:active {
      transform: translateY(1px);
    }

    /* ===== MENSAJES ===== */
    #msg {
      margin-top: 14px;
      min-height: 1.2em;
      font-style: italic;
      color: var(--muted);
      line-height: 1.4;
    }

    .error {
      color: var(--danger);
      font-style: normal;
    }

    .success {
      color: var(--ok);
      font-style: normal;
      font-weight: 400;
    }

    /* Responsivo */
    @media (max-width: 520px) {
      .panel { padding: 26px 18px 20px; }
      h1 { letter-spacing: 4px; font-size: 1.35rem; }
    }
  </style>
</head>

<body>
  <div class="panel">
    <h1>?</h1>

    <div id="question"></div>

    <div class="row">
      <input id="answer" placeholder="Escribe tu respuesta‚Ä¶" autocomplete="off" />
      <button id="btn" type="button">Enviar</button>
    </div>

    <div id="msg"></div>
  </div>

  <script type="py">
from pyscript import document, when

QUIZ = [
    {"q": "A lo largo de la Historia ha habido grandes imperios, de infinitas llanuras, de tierras siempre iluminadas por el Sol o que llegaron a poseer mares. <br><br>"
    "Pero de todos ellos, hay uno que, hasta donde hemos descubierto, podemos llamar el Primer Imperio. Hace 5000 a√±os, en el Creciente F√©rtil, donde las sociedades complejas tuvieron su origen, apareci√≥ un hombre que uni√≥ dos mares.<br><br>"
    "Escribe su nombre tal y como √©l lo har√≠a", "a": "íä¨íäííÑÄ"},
    {"q": "64.98x^2 + 0.98y^2 + 1039.71x - 3.93y = -4158.79 <br><br>"
"0.76x^2 + 36.76y^2 + 9.84x = -30.24<br><br>"
"84.28x^2 + 1.4xy + 65.29y^2 + 408.1x - 293.02y = -486.58<br><br>"
"11.15x^2 + 0.81xy + 8.39y^2 + 52.92x - 38.26y = -105.18<br><br>"
"65.5x^2 + 1.5y^2 - 131x - 6y = -65.36<br><br>"
"13.55x^2 + 19.21xy + 9.06y^2 - 105.93x - 89.17y = -227.16<br><br>"
"12.99x^2 - 19.54xy + 9.23y^2 - 19.34x + 2.81y = -23.97<br><br>"
"66.16x^2 - 0.64xy + 2.8y^2 - 500.19x - 8.71y = -944.98<br><br>"
"86.06x^2 + 0.67xy + 68.42y^2 - 1182.31x - 328.94y = -4077.09<br><br>"
"14.48x^2 - 0.08xy + 13.48y^2 - 201.07x - 67.12y = -770.74<br><br>"
"12.53x^2 + 9.55xy + 13.11y^2 - 219.36x - 102.26y = -958.71
", "a": "LOMQ"},
    {"q": "Marca III: ¬øQu√© n√∫mero protege el cofre?", "a": "7"},
]


i = 0
question = document.querySelector("#question")
answer = document.querySelector("#answer")
msg = document.querySelector("#msg")

def normalizar(s):
    s = (s or "").strip().lower()
    return (s.replace("√°","a").replace("√©","e").replace("√≠","i")
             .replace("√≥","o").replace("√∫","u").replace("√º","u")
             .replace("√±","n"))

def mostrar():
    global i
    if i < len(QUIZ):
        question.innerHTML = QUIZ[i]["q"]
        msg.innerHTML = ""
        answer.value = ""
        answer.focus()
    else:
        question.innerHTML = "Has llegado hasta el final."
        msg.innerHTML = "<span class='success'>https://ees-p.s3-eu-west-1.amazonaws.com/pdf/314445979.pdf?AWSAccessKeyId=AKIAIECPCKX366QJPJZQ&Expires=1831892755&Signature=p%2ByeaTk1uC0ZkIMTIhUQuXGIBCY%3D"

def validar():
    global i
    if i >= len(QUIZ):
        return

    user = normalizar(answer.value)
    correcta = normalizar(QUIZ[i]["a"])

    if user == correcta:
        i += 1
        mostrar()
    else:
        msg.innerHTML = "<span class='error'>Respuesta err√≥nea.</span>"
        answer.focus()

@when("click", "#btn")
def _click(event):
    validar()

@when("keydown", "#answer")
def _key(event):
    if event.key == "Enter":
        validar()

mostrar()
  </script>
</body>
</html>
